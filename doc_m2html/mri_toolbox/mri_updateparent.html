<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of mri_updateparent</title>
  <meta name="keywords" content="mri_updateparent">
  <meta name="description" content="mri_updateparent - General GUI data handing for MRI Toolbox">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html &copy; 2003 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../m2html.css">
</head>
<body>
<a name="_top"></a>
<div><a href="../index.html">Home</a> &gt;  <a href="index.html">mri_toolbox</a> &gt; mri_updateparent.m</div>

<!--<table width="100%"><tr><td align="left"><a href="../index.html"><img alt="<" border="0" src="../left.png">&nbsp;Master index</a></td>
<td align="right"><a href="index.html">Index for mri_toolbox&nbsp;<img alt=">" border="0" src="../right.png"></a></td></tr></table>-->

<h1>mri_updateparent
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="box"><strong>mri_updateparent - General GUI data handing for MRI Toolbox</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="box"><strong>function [mri] = mri_updateparent(UserData,focus) </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="fragment"><pre class="comment"> mri_updateparent - General GUI data handing for MRI Toolbox

 Useage: [mri] = mri_updateparent(UserData,focus)
 
 'UserData' is obtained from get(gcbf,'UserData'), where all
 the necessary parameters and stored for each GUI, including
 the handles of any GUI parent.

 'focus' is a boolean option that switches whether the 
 parent is the current figure (1, default) or not (0).
 
 This function returns the mri struct to both the matlab
 workspace and any direct parent of the GUI calling 
 this function.</pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../matlabicon.gif)">
</ul>
This function is called by:
<ul style="list-style-image:url(../matlabicon.gif)">
<li><a href="gui_avw_open.html" class="code" title="function [mri] = gui_avw_open(mri,command,parent)">gui_avw_open</a>	gui_avw_open - Load & Display Analyze 7.5 data</li><li><a href="gui_cor_open.html" class="code" title="function [mri] = gui_cor_open(mri,command,parent)">gui_cor_open</a>	gui_cor_open - Load & Display FreeSurfer COR-??? data</li><li><a href="gui_ge_open.html" class="code" title="function [mri] = gui_ge_open(mri,command,parent)">gui_ge_open</a>	gui_ge_open - Load & Display MRI data</li><li><a href="gui_mri_open.html" class="code" title="function [mri] = gui_mri_open(mri,command,parent)">gui_mri_open</a>	gui_mri_open - Load & Display MRI data</li></ul>
<!-- crossreference -->


<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="fragment"><pre>0001 <a name="_sub0" href="#_subfunctions" class="code">function [mri] = mri_updateparent(UserData,focus)</a>
0002 
0003 <span class="comment">% mri_updateparent - General GUI data handing for MRI Toolbox</span>
0004 <span class="comment">%</span>
0005 <span class="comment">% Useage: [mri] = mri_updateparent(UserData,focus)</span>
0006 <span class="comment">%</span>
0007 <span class="comment">% 'UserData' is obtained from get(gcbf,'UserData'), where all</span>
0008 <span class="comment">% the necessary parameters and stored for each GUI, including</span>
0009 <span class="comment">% the handles of any GUI parent.</span>
0010 <span class="comment">%</span>
0011 <span class="comment">% 'focus' is a boolean option that switches whether the</span>
0012 <span class="comment">% parent is the current figure (1, default) or not (0).</span>
0013 <span class="comment">%</span>
0014 <span class="comment">% This function returns the mri struct to both the matlab</span>
0015 <span class="comment">% workspace and any direct parent of the GUI calling</span>
0016 <span class="comment">% this function.</span>
0017 <span class="comment">%</span>
0018 
0019 <span class="comment">% $Revision: 1.2 $ $Date: 2004/04/08 20:11:24 $</span>
0020 
0021 <span class="comment">% Licence:  GNU GPL, no express or implied warranties</span>
0022 <span class="comment">% History:  04/2002, Darren.Weber@flinders.edu.au</span>
0023 <span class="comment">%                    - extracted from individual gui* functions</span>
0024 <span class="comment">%</span>
0025 <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0026 
0027 <span class="keyword">if</span> ~exist(<span class="string">'focus'</span>,<span class="string">'var'</span>), focus = 1; <span class="keyword">end</span>
0028 
0029 <span class="keyword">if</span> isfield(UserData,<span class="string">'parent'</span>),
0030     <span class="keyword">if</span> isfield(UserData.parent,<span class="string">'gui'</span>),
0031         <span class="comment">% Get the userdata from the parent</span>
0032         parent = get(UserData.parent.gui,<span class="string">'UserData'</span>);
0033         <span class="keyword">if</span> isfield(parent,<span class="string">'mri'</span>) &amp; isfield(UserData,<span class="string">'mri'</span>),
0034             <span class="comment">% Update the parent mri structure</span>
0035             parent.mri = UserData.mri;
0036             set(UserData.parent.gui,<span class="string">'UserData'</span>,parent);
0037             <span class="comment">% Make the parent the current figure</span>
0038         <span class="keyword">end</span>
0039         <span class="keyword">if</span> focus,
0040             figure(UserData.parent.gui); <span class="keyword">end</span>
0041     <span class="keyword">end</span>
0042 <span class="keyword">end</span>
0043 
0044 <span class="keyword">if</span> isfield(UserData,<span class="string">'mri'</span>),
0045     <span class="keyword">if</span> ~isempty(UserData.mri),
0046         mri = UserData.mri;
0047     <span class="keyword">end</span>
0048 <span class="keyword">end</span>
0049 
0050 <span class="keyword">return</span></pre></div>
<hr><address>Generated on Mon 29-Mar-2004 13:14:32 by <strong><a href="http://www.artefact.tk/software/matlab/m2html/">m2html</a></strong> &copy; 2003</address>
</body>
</html>