<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of avw_hdr_check_datatype</title>
  <meta name="keywords" content="avw_hdr_check_datatype">
  <meta name="description" content="avw_hdr_check_datatype - read Analyze format data header (*.hdr)">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html &copy; 2003 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../m2html.css">
</head>
<body>
<a name="_top"></a>
<div><a href="../index.html">Home</a> &gt;  <a href="index.html">mri_toolbox</a> &gt; avw_hdr_check_datatype.m</div>

<!--<table width="100%"><tr><td align="left"><a href="../index.html"><img alt="<" border="0" src="../left.png">&nbsp;Master index</a></td>
<td align="right"><a href="index.html">Index for mri_toolbox&nbsp;<img alt=">" border="0" src="../right.png"></a></td></tr></table>-->

<h1>avw_hdr_check_datatype
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="box"><strong>avw_hdr_check_datatype - read Analyze format data header (*.hdr)</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="box"><strong>function [ avw ] = avw_hdr_check_datatype(avw) </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="fragment"><pre class="comment"> avw_hdr_check_datatype - read Analyze format data header (*.hdr)

 avw = avw_hdr_check_datatype(avw)

 attempts to set the datatype based on the bits per pixel, although
 this really needs to be done the other way around.  The following
 table indicates the values recognised for 
 avw.hdr.dime.datatype and avw.hdr.dime.bitpix

 short int datatype      /* Datatype for this image set */ 
 /*Acceptable values for datatype are*/ 
 #define DT_NONE             0
 #define DT_UNKNOWN          0    /*Unknown data type*/ 
 #define DT_BINARY           1    /*Binary             ( 1 bit per voxel)*/ 
 #define DT_UNSIGNED_CHAR    2    /*Unsigned character ( 8 bits per voxel)*/ 
 #define DT_SIGNED_SHORT     4    /*Signed short       (16 bits per voxel)*/ 
 #define DT_SIGNED_INT       8    /*Signed integer     (32 bits per voxel)*/ 
 #define DT_FLOAT           16    /*Floating point     (32 bits per voxel)*/ 
 #define DT_COMPLEX         32    /*Complex (64 bits per voxel; 2 floating point numbers)/* 
 #define DT_DOUBLE          64    /*Double precision   (64 bits per voxel)*/ 
 #define DT_RGB            128    /*A Red-Green-Blue datatype*/
 #define DT_ALL            255    /*Undocumented*/
 
 short int bitpix;    /* Number of bits per pixel; 1, 8, 16, 32, or 64. */ 
 
 See also <a href="avw_hdr_write.html" class="code" title="function avw_hdr_write(avw, fileprefix, machine)">avw_hdr_write</a>, <a href="avw_hdr_make.html" class="code" title="function [ avw ] = avw_hdr_make">avw_hdr_make</a>, <a href="avw_view_hdr.html" class="code" title="function avw_view_hdr(avw,parent)">avw_view_hdr</a>, <a href="avw_view.html" class="code" title="function [ varargout ] = avw_view(avw,parent,command),">avw_view</a></pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../matlabicon.gif)">
</ul>
This function is called by:
<ul style="list-style-image:url(../matlabicon.gif)">
</ul>
<!-- crossreference -->


<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="fragment"><pre>0001 <a name="_sub0" href="#_subfunctions" class="code">function [ avw ] = avw_hdr_check_datatype(avw)</a>
0002 
0003 <span class="comment">% avw_hdr_check_datatype - read Analyze format data header (*.hdr)</span>
0004 <span class="comment">%</span>
0005 <span class="comment">% avw = avw_hdr_check_datatype(avw)</span>
0006 <span class="comment">%</span>
0007 <span class="comment">% attempts to set the datatype based on the bits per pixel, although</span>
0008 <span class="comment">% this really needs to be done the other way around.  The following</span>
0009 <span class="comment">% table indicates the values recognised for</span>
0010 <span class="comment">% avw.hdr.dime.datatype and avw.hdr.dime.bitpix</span>
0011 <span class="comment">%</span>
0012 <span class="comment">% short int datatype      /* Datatype for this image set */</span>
0013 <span class="comment">% /*Acceptable values for datatype are*/</span>
0014 <span class="comment">% #define DT_NONE             0</span>
0015 <span class="comment">% #define DT_UNKNOWN          0    /*Unknown data type*/</span>
0016 <span class="comment">% #define DT_BINARY           1    /*Binary             ( 1 bit per voxel)*/</span>
0017 <span class="comment">% #define DT_UNSIGNED_CHAR    2    /*Unsigned character ( 8 bits per voxel)*/</span>
0018 <span class="comment">% #define DT_SIGNED_SHORT     4    /*Signed short       (16 bits per voxel)*/</span>
0019 <span class="comment">% #define DT_SIGNED_INT       8    /*Signed integer     (32 bits per voxel)*/</span>
0020 <span class="comment">% #define DT_FLOAT           16    /*Floating point     (32 bits per voxel)*/</span>
0021 <span class="comment">% #define DT_COMPLEX         32    /*Complex (64 bits per voxel; 2 floating point numbers)/*</span>
0022 <span class="comment">% #define DT_DOUBLE          64    /*Double precision   (64 bits per voxel)*/</span>
0023 <span class="comment">% #define DT_RGB            128    /*A Red-Green-Blue datatype*/</span>
0024 <span class="comment">% #define DT_ALL            255    /*Undocumented*/</span>
0025 <span class="comment">%</span>
0026 <span class="comment">% short int bitpix;    /* Number of bits per pixel; 1, 8, 16, 32, or 64. */</span>
0027 <span class="comment">%</span>
0028 <span class="comment">% See also avw_hdr_write, avw_hdr_make, avw_view_hdr, avw_view</span>
0029 <span class="comment">%</span>
0030 
0031 <span class="comment">% $Revision: 1.1 $ $Date: 2004/04/08 20:12:52 $</span>
0032 
0033 <span class="comment">% Licence:  GNU GPL, no express or implied warranties</span>
0034 <span class="comment">% History:  05/2002, Darren.Weber@flinders.edu.au</span>
0035 <span class="comment">%                    The Analyze format and c code below is copyright</span>
0036 <span class="comment">%                    (c) Copyright, 1986-1995</span>
0037 <span class="comment">%                    Biomedical Imaging Resource, Mayo Foundation</span>
0038 <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0039 
0040 version = <span class="string">'[$Revision: 1.1 $]'</span>;
0041 fprintf(<span class="string">'\nAVW_HDR_CHECK_DATATYPE [v%s]\n'</span>,version(12:16));  tic;
0042 
0043 <span class="keyword">if</span> ~exist(<span class="string">'avw'</span>,<span class="string">'var'</span>),
0044     msg = sprintf(<span class="string">'...no input avw\n\n'</span>);
0045     error(msg);
0046 <span class="keyword">end</span>
0047 
0048 
0049 <span class="keyword">switch</span> avw.hdr.dime.bitpix,
0050   
0051   <span class="keyword">case</span> 0,
0052     error(<span class="string">'avw.hdr.dime.bitpix = 0, unknown datatype'</span>);
0053     
0054   <span class="keyword">case</span> 1,
0055     avw.hdr.dime.datatype = 1;
0056     
0057   <span class="keyword">case</span> 8,
0058     avw.hdr.dime.datatype = 2;
0059     
0060   <span class="keyword">case</span> 16,
0061     avw.hdr.dime.datatype = 4;
0062     
0063   <span class="keyword">case</span> 32,
0064     warning(<span class="string">'bitpix = 32, assuming datatype is float (rather than signed int)'</span>);
0065     avw.hdr.dime.datatype = 16;
0066     
0067   <span class="keyword">case</span> 64,
0068     warning(<span class="string">'bitpix = 64, assuming datatype is double (rather than complex)'</span>);
0069     avw.hdr.dime.datatype = 64;
0070     
0071   <span class="keyword">case</span> 128,
0072     avw.hdr.dime.datatype = 128;
0073     
0074   <span class="keyword">otherwise</span>
0075     error(<span class="string">'unknown bitpix and datatype'</span>);
0076     
0077 <span class="keyword">end</span>
0078 
0079 t = toc; fprintf(<span class="string">'...done ( %6.2f sec)\n\n'</span>,t);
0080 
0081 <span class="keyword">return</span></pre></div>
<hr><address>Generated on Mon 29-Mar-2004 13:14:32 by <strong><a href="http://www.artefact.tk/software/matlab/m2html/">m2html</a></strong> &copy; 2003</address>
</body>
</html>