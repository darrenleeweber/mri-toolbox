<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of avw_view_old</title>
  <meta name="keywords" content="avw_view_old">
  <meta name="description" content="AVW_VIEW - Create and navigate ortho views of Analyze file">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html &copy; 2003 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../m2html.css">
</head>
<body>
<a name="_top"></a>
<div><a href="../index.html">Home</a> &gt;  <a href="index.html">mri_toolbox</a> &gt; avw_view_old.m</div>

<!--<table width="100%"><tr><td align="left"><a href="../index.html"><img alt="<" border="0" src="../left.png">&nbsp;Master index</a></td>
<td align="right"><a href="index.html">Index for mri_toolbox&nbsp;<img alt=">" border="0" src="../right.png"></a></td></tr></table>-->

<h1>avw_view_old
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="box"><strong>AVW_VIEW - Create and navigate ortho views of Analyze file</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="box"><strong>function avw_view(avw), </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="fragment"><pre class="comment"> AVW_VIEW - Create and navigate ortho views of Analyze file

 avw_view(avw)

 avw    -  a struct, created by avw_img_read

 The navigation is by sliders and mouse clicks on the
 images in any of the ortho views.</pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../matlabicon.gif)">
</ul>
This function is called by:
<ul style="list-style-image:url(../matlabicon.gif)">
</ul>
<!-- crossreference -->

<h2><a name="_subfunctions"></a>SUBFUNCTIONS <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<ul style="list-style-image:url(../matlabicon.gif)">
<li><a href="#_sub1" class="code">function slice_img(avw),</a></li></ul>
<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="fragment"><pre>0001 <a name="_sub0" href="#_subfunctions" class="code">function avw_view(avw),</a>
0002 
0003 <span class="comment">% AVW_VIEW - Create and navigate ortho views of Analyze file</span>
0004 <span class="comment">%</span>
0005 <span class="comment">% avw_view(avw)</span>
0006 <span class="comment">%</span>
0007 <span class="comment">% avw    -  a struct, created by avw_img_read</span>
0008 <span class="comment">%</span>
0009 <span class="comment">% The navigation is by sliders and mouse clicks on the</span>
0010 <span class="comment">% images in any of the ortho views.</span>
0011 <span class="comment">%</span>
0012 
0013 <span class="comment">% $Revision: 1.2 $ $Date: 2004/04/08 20:11:24 $</span>
0014 
0015 <span class="comment">% Licence:  GNU GPL, no express or implied warranties</span>
0016 <span class="comment">% History:  06/2002, Darren.Weber@flinders.edu.au</span>
0017 <span class="comment">%                    The Analyze format is copyright</span>
0018 <span class="comment">%                    (c) Copyright, 1986-1995</span>
0019 <span class="comment">%                    Biomedical Imaging Resource, Mayo Foundation</span>
0020 <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0021 
0022 
0023 <span class="keyword">if</span> ~exist(<span class="string">'avw'</span>,<span class="string">'var'</span>),
0024     msg = sprintf(<span class="string">'AVW_VIEW: No input avw - see help avw_view\n'</span>);
0025     error(msg);
0026 <span class="keyword">end</span>
0027 
0028 
0029 <span class="comment">% GUI General Parameters</span>
0030 GUIwidth  = 150;
0031 GUIheight = 50;
0032 <span class="keyword">if</span> isfield(avw,<span class="string">'fileprefix'</span>),
0033     <span class="keyword">if</span> isempty(avw.fileprefix),
0034         name = <span class="string">'AVW View'</span>;
0035     <span class="keyword">else</span>
0036         format = strcat(<span class="string">'%+'</span>,sprintf(<span class="string">'%d'</span>,length(avw.fileprefix)+1),<span class="string">'s'</span>);
0037         name = strcat(<span class="string">'AVW View - '</span>,sprintf(format,avw.fileprefix));
0038     <span class="keyword">end</span>
0039 <span class="keyword">else</span>
0040     name = <span class="string">'AVW View'</span>;
0041 <span class="keyword">end</span>
0042 
0043 GUI = figure(<span class="string">'Name'</span>,name,<span class="string">'Tag'</span>,<span class="string">'AVWVIEW'</span>,<span class="string">'units'</span>,<span class="string">'characters'</span>,<span class="keyword">...</span>
0044              <span class="string">'NumberTitle'</span>,<span class="string">'off'</span>,<span class="keyword">...</span>
0045              <span class="string">'MenuBar'</span>,<span class="string">'figure'</span>,<span class="string">'Position'</span>,[1 1 GUIwidth GUIheight]);
0046 movegui(GUI,<span class="string">'center'</span>);
0047 
0048 AVWVIEW.gui = GUI;
0049 
0050 
0051 Font.FontName   = <span class="string">'Helvetica'</span>;
0052 Font.FontUnits  = <span class="string">'Pixels'</span>;
0053 Font.FontSize   = 12;
0054 Font.FontWeight = <span class="string">'normal'</span>;
0055 Font.FontAngle  = <span class="string">'normal'</span>;
0056 
0057 
0058 shading flat
0059 
0060 
0061 xdim = size(avw.img,1);
0062 ydim = size(avw.img,2);
0063 zdim = size(avw.img,3);
0064 
0065 SagSlice = 1;
0066 CorSlice = 1;
0067 AxiSlice = 1;
0068 <span class="keyword">if</span> xdim &gt; 1, SagSlice = floor(xdim/2); <span class="keyword">end</span>
0069 <span class="keyword">if</span> ydim &gt; 1, CorSlice = floor(ydim/2); <span class="keyword">end</span>
0070 <span class="keyword">if</span> zdim &gt; 1, AxiSlice = floor(zdim/2); <span class="keyword">end</span>
0071 
0072 AVWVIEW.origin = [SagSlice,CorSlice,AxiSlice];             <span class="comment">% vol origin</span>
0073 AVWVIEW.scale  = double(avw.hdr.dime.pixdim(2:4)) ./ 1000; <span class="comment">% vol scale in meters</span>
0074 
0075 <span class="comment">% Initialise some window handles</span>
0076 G.Ha = 0;
0077 G.Hc = 0;
0078 G.Hs = 0;
0079 
0080 <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0081 <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0082 
0083 <span class="comment">% Axial Slice</span>
0084 <span class="keyword">if</span> xdim &gt; 1 &amp; ydim &gt; 1,
0085     
0086     [x,y] = meshgrid(1:xdim,1:ydim);
0087     Xaxial = x'; clear x;
0088     Yaxial = y'; clear y;
0089     Zaxial = zeros(xdim,ydim);
0090     
0091     G.Aa = subplot(<span class="string">'position'</span>,[0.05 0.56 0.4 0.4]);
0092     colormap(<span class="string">'gray'</span>);
0093     Saxial = uint8(squeeze(avw.img(:,:,AxiSlice)));
0094     <span class="comment">%G.Ha = surf(Xaxial,Yaxial,Zaxial,Saxial,'EdgeColor','none');</span>
0095     
0096     G.Ha = imagesc([0, xdim],[0, ydim],Saxial);
0097     
0098     
0099     axis square, daspect([1,1,1]);
0100     xlabel(<span class="string">'(Left &lt;&lt;) X (&gt;&gt; Right)'</span>)
0101     ylabel(<span class="string">'Y'</span>)
0102     zlabel(<span class="string">'Z'</span>)
0103     title(<span class="string">'Axial'</span>)
0104     view([0,90]);
0105     
0106     <span class="comment">% This callback navigates with left click</span>
0107     set(G.Ha,<span class="string">'ButtonDownFcn'</span>,<span class="keyword">...</span>
0108         strcat(<span class="string">'AVWVIEW = get(gcbf,''Userdata''); '</span>,<span class="keyword">...</span>
0109         <span class="string">'currentpoint = get(get(AVWVIEW.handles.Ha,''Parent''),''CurrentPoint''); '</span>,<span class="keyword">...</span>
0110         <span class="string">'SagSlice = round(currentpoint(2,1)); '</span>,<span class="keyword">...</span>
0111         <span class="string">'CorSlice = round(currentpoint(2,2)); '</span>,<span class="keyword">...</span>
0112         <span class="string">'AxiSlice = round(str2num(get(AVWVIEW.handles.Taxi,''String''))); '</span>,<span class="keyword">...</span>
0113         <span class="string">'imgvalue = AVWVIEW.avw.img(SagSlice,CorSlice,AxiSlice); '</span>,<span class="keyword">...</span>
0114         <span class="string">'set(AVWVIEW.handles.imval,''String'',sprintf(''%8.2f'',imgvalue));'</span>,<span class="keyword">...</span>
0115         <span class="string">'set(AVWVIEW.gui,''UserData'',AVWVIEW);'</span>,<span class="keyword">...</span>
0116         <span class="string">'if ishandle(AVWVIEW.handles.Hs) &amp; AVWVIEW.handles.Hs, '</span>,<span class="keyword">...</span>
0117         <span class="string">'   Ssag = squeeze(AVWVIEW.avw.img(SagSlice,:,:));'</span>,<span class="keyword">...</span>
0118         <span class="string">'   set(AVWVIEW.handles.Hs,''CData'',Ssag); drawnow;'</span>,<span class="keyword">...</span>
0119         <span class="string">'   set(AVWVIEW.handles.Tsag,''String'',num2str(SagSlice));'</span>,<span class="keyword">...</span>
0120         <span class="string">'   set(AVWVIEW.handles.Ssag,''Value'',SagSlice);'</span>,<span class="keyword">...</span>
0121         <span class="string">'   clear Ssag; '</span>,<span class="keyword">...</span>
0122         <span class="string">'   set(AVWVIEW.gui,''UserData'',AVWVIEW);'</span>,<span class="keyword">...</span>
0123         <span class="string">'end; '</span>,<span class="keyword">...</span>
0124         <span class="string">'if ishandle(AVWVIEW.handles.Hc) &amp; AVWVIEW.handles.Hc, '</span>,<span class="keyword">...</span>
0125         <span class="string">'   Scor = squeeze(AVWVIEW.avw.img(:,CorSlice,:));'</span>,<span class="keyword">...</span>
0126         <span class="string">'   set(AVWVIEW.handles.Hc,''CData'',Scor); drawnow;'</span>,<span class="keyword">...</span>
0127         <span class="string">'   set(AVWVIEW.handles.Tcor,''String'',num2str(CorSlice));'</span>,<span class="keyword">...</span>
0128         <span class="string">'   set(AVWVIEW.handles.Scor,''Value'',CorSlice);'</span>,<span class="keyword">...</span>
0129         <span class="string">'   clear Scor; '</span>,<span class="keyword">...</span>
0130         <span class="string">'   set(AVWVIEW.gui,''UserData'',AVWVIEW);'</span>,<span class="keyword">...</span>
0131         <span class="string">'end; '</span>,<span class="keyword">...</span>
0132         <span class="string">'clear currentpoint imgvalue AxiSlice CorSlice SagSlice AVWVIEW;'</span>));
0133     
0134     <span class="keyword">if</span> zdim &gt; 1,
0135         slider_step(1) = 1/(zdim);
0136         slider_step(2) = 1/(zdim);
0137         G.Saxi = uicontrol(<span class="string">'Parent'</span>,GUI,<span class="string">'Style'</span>,<span class="string">'slider'</span>,<span class="string">'Units'</span>,<span class="string">'Normalized'</span>, Font, <span class="keyword">...</span>
0138             <span class="string">'Position'</span>,[.45 .56 .03 .40], <span class="string">'HorizontalAlignment'</span>, <span class="string">'center'</span>,<span class="keyword">...</span>
0139             <span class="string">'BusyAction'</span>,<span class="string">'queue'</span>,<span class="keyword">...</span>
0140             <span class="string">'Min'</span>,1,<span class="string">'Max'</span>,zdim,<span class="string">'SliderStep'</span>,slider_step,<span class="string">'Value'</span>,AxiSlice,<span class="keyword">...</span>
0141             <span class="string">'Callback'</span>,strcat(<span class="string">'AVWVIEW = get(gcbf,''Userdata''); '</span>,<span class="keyword">...</span>
0142             <span class="string">'AxiSlice = round(get(AVWVIEW.handles.Saxi,''Value''));'</span>,<span class="keyword">...</span>
0143             <span class="string">'set(AVWVIEW.handles.Saxi,''Value'',AxiSlice);'</span>,<span class="keyword">...</span>
0144             <span class="string">'Saxi = squeeze(AVWVIEW.avw.img(:,:,AxiSlice));'</span>,<span class="keyword">...</span>
0145             <span class="string">'set(AVWVIEW.handles.Ha,''CData'',Saxi); drawnow;'</span>,<span class="keyword">...</span>
0146             <span class="string">'set(AVWVIEW.handles.Taxi,''String'',num2str(AxiSlice));'</span>,<span class="keyword">...</span>
0147             <span class="string">'CorSlice = round(get(AVWVIEW.handles.Scor,''Value''));'</span>,<span class="keyword">...</span>
0148             <span class="string">'SagSlice = round(get(AVWVIEW.handles.Ssag,''Value''));'</span>,<span class="keyword">...</span>
0149             <span class="string">'imgvalue = AVWVIEW.avw.img(SagSlice,CorSlice,AxiSlice); '</span>,<span class="keyword">...</span>
0150             <span class="string">'set(AVWVIEW.handles.imval,''String'',sprintf(''%8.2f'',imgvalue));'</span>,<span class="keyword">...</span>
0151             <span class="string">'set(AVWVIEW.gui,''UserData'',AVWVIEW);'</span>,<span class="keyword">...</span>
0152             <span class="string">'clear imgvalue Saxi AxiSlice CorSlice SagSlice AVWVIEW;'</span>));
0153     <span class="keyword">end</span>
0154     G.Taxi = uicontrol(<span class="string">'Parent'</span>,GUI,<span class="string">'Style'</span>,<span class="string">'text'</span>,<span class="string">'Units'</span>,<span class="string">'Normalized'</span>, Font, <span class="keyword">...</span>
0155         <span class="string">'Position'</span>,[.45 .51 .03 .05], <span class="string">'HorizontalAlignment'</span>, <span class="string">'center'</span>,<span class="keyword">...</span>
0156         <span class="string">'BusyAction'</span>,<span class="string">'queue'</span>,<span class="keyword">...</span>
0157         <span class="string">'String'</span>,num2str(AxiSlice));
0158 <span class="keyword">end</span>
0159 
0160 <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0161 <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0162 
0163 <span class="comment">% Coronal Slice</span>
0164 <span class="keyword">if</span> xdim &gt; 1 &amp; zdim &gt; 1,
0165     
0166     [x,z] = meshgrid(1:xdim,1:zdim);
0167     Xcor = x'; clear x;
0168     Zcor = z'; clear z;
0169     Ycor = zeros(xdim,zdim);
0170     
0171     subplot(<span class="string">'position'</span>,[0.55 0.56 0.4 0.4])
0172     colormap(<span class="string">'gray'</span>);
0173     Scor = squeeze(avw.img(:,CorSlice,:));
0174     
0175     G.Hc = surf(Xcor,Ycor,Zcor,Scor,<span class="string">'EdgeColor'</span>,<span class="string">'none'</span>);
0176     axis square, daspect([1,1,1]);
0177     xlabel(<span class="string">'(Left &lt;&lt;) X (&gt;&gt; Right)'</span>)
0178     ylabel(<span class="string">'Y'</span>)
0179     zlabel(<span class="string">'Z'</span>)
0180     title(<span class="string">'Coronal'</span>)
0181     view([0,0]);
0182     
0183     <span class="comment">% This callback navigates with left click</span>
0184     set(G.Hc,<span class="string">'ButtonDownFcn'</span>,<span class="keyword">...</span>
0185         strcat(<span class="string">'AVWVIEW = get(gcbf,''Userdata''); '</span>,<span class="keyword">...</span>
0186         <span class="string">'currentpoint = get(get(AVWVIEW.handles.Hc,''Parent''),''CurrentPoint''); '</span>,<span class="keyword">...</span>
0187         <span class="string">'SagSlice = round(currentpoint(2,1)); '</span>,<span class="keyword">...</span>
0188         <span class="string">'AxiSlice = round(currentpoint(2,3)); '</span>,<span class="keyword">...</span>
0189         <span class="string">'CorSlice = round(str2num(get(AVWVIEW.handles.Tcor,''String''))); '</span>,<span class="keyword">...</span>
0190         <span class="string">'imgvalue = AVWVIEW.avw.img(SagSlice,CorSlice,AxiSlice); '</span>,<span class="keyword">...</span>
0191         <span class="string">'set(AVWVIEW.handles.imval,''String'',sprintf(''%8.2f'',imgvalue));'</span>,<span class="keyword">...</span>
0192         <span class="string">'set(AVWVIEW.gui,''UserData'',AVWVIEW);'</span>,<span class="keyword">...</span>
0193         <span class="string">'if ishandle(AVWVIEW.handles.Hs) &amp; AVWVIEW.handles.Hs, '</span>,<span class="keyword">...</span>
0194         <span class="string">'   Ssag = squeeze(AVWVIEW.avw.img(SagSlice,:,:));'</span>,<span class="keyword">...</span>
0195         <span class="string">'   set(AVWVIEW.handles.Hs,''CData'',Ssag); drawnow;'</span>,<span class="keyword">...</span>
0196         <span class="string">'   set(AVWVIEW.handles.Tsag,''String'',num2str(SagSlice));'</span>,<span class="keyword">...</span>
0197         <span class="string">'   set(AVWVIEW.handles.Ssag,''Value'',SagSlice);'</span>,<span class="keyword">...</span>
0198         <span class="string">'   clear Ssag; '</span>,<span class="keyword">...</span>
0199         <span class="string">'   set(AVWVIEW.gui,''UserData'',AVWVIEW);'</span>,<span class="keyword">...</span>
0200         <span class="string">'end; '</span>,<span class="keyword">...</span>
0201         <span class="string">'if ishandle(AVWVIEW.handles.Ha) &amp; AVWVIEW.handles.Ha, '</span>,<span class="keyword">...</span>
0202         <span class="string">'   Saxi = squeeze(AVWVIEW.avw.img(:,:,AxiSlice));'</span>,<span class="keyword">...</span>
0203         <span class="string">'   set(AVWVIEW.handles.Ha,''CData'',Saxi); drawnow;'</span>,<span class="keyword">...</span>
0204         <span class="string">'   set(AVWVIEW.handles.Taxi,''String'',num2str(AxiSlice));'</span>,<span class="keyword">...</span>
0205         <span class="string">'   set(AVWVIEW.handles.Saxi,''Value'',AxiSlice);'</span>,<span class="keyword">...</span>
0206         <span class="string">'   clear Saxi; '</span>,<span class="keyword">...</span>
0207         <span class="string">'   set(AVWVIEW.gui,''UserData'',AVWVIEW);'</span>,<span class="keyword">...</span>
0208         <span class="string">'end; '</span>,<span class="keyword">...</span>
0209         <span class="string">'clear currentpoint imgvalue AxiSlice CorSlice SagSlice AVWVIEW;'</span>));
0210     
0211     <span class="keyword">if</span> ydim &gt; 1,
0212         slider_step(1) = 1/(ydim);
0213         slider_step(2) = 1/(ydim);
0214         G.Scor = uicontrol(<span class="string">'Parent'</span>,GUI,<span class="string">'Style'</span>,<span class="string">'slider'</span>,<span class="string">'Units'</span>,<span class="string">'Normalized'</span>, Font, <span class="keyword">...</span>
0215             <span class="string">'Position'</span>,[.95 .56 .03 .40], <span class="string">'HorizontalAlignment'</span>, <span class="string">'center'</span>,<span class="keyword">...</span>
0216             <span class="string">'BusyAction'</span>,<span class="string">'queue'</span>,<span class="keyword">...</span>
0217             <span class="string">'Min'</span>,1,<span class="string">'Max'</span>,ydim,<span class="string">'SliderStep'</span>,slider_step,<span class="string">'Value'</span>,CorSlice,<span class="keyword">...</span>
0218             <span class="string">'Callback'</span>,strcat(<span class="string">'AVWVIEW = get(gcbf,''Userdata''); '</span>,<span class="keyword">...</span>
0219             <span class="string">'CorSlice = round(get(AVWVIEW.handles.Scor,''Value''));'</span>,<span class="keyword">...</span>
0220             <span class="string">'set(AVWVIEW.handles.Scor,''Value'',CorSlice);'</span>,<span class="keyword">...</span>
0221             <span class="string">'Scor = squeeze(AVWVIEW.avw.img(:,CorSlice,:));'</span>,<span class="keyword">...</span>
0222             <span class="string">'set(AVWVIEW.handles.Hc,''CData'',Scor); drawnow;'</span>,<span class="keyword">...</span>
0223             <span class="string">'set(AVWVIEW.handles.Tcor,''String'',num2str(CorSlice));'</span>,<span class="keyword">...</span>
0224             <span class="string">'AxiSlice = round(get(AVWVIEW.handles.Saxi,''Value''));'</span>,<span class="keyword">...</span>
0225             <span class="string">'SagSlice = round(get(AVWVIEW.handles.Ssag,''Value''));'</span>,<span class="keyword">...</span>
0226             <span class="string">'imgvalue = AVWVIEW.avw.img(SagSlice,CorSlice,AxiSlice); '</span>,<span class="keyword">...</span>
0227             <span class="string">'set(AVWVIEW.handles.imval,''String'',sprintf(''%8.2f'',imgvalue));'</span>,<span class="keyword">...</span>
0228             <span class="string">'set(AVWVIEW.gui,''UserData'',AVWVIEW);'</span>,<span class="keyword">...</span>
0229             <span class="string">'clear imgvalue Scor AxiSlice CorSlice SagSlice AVWVIEW;'</span>));
0230     <span class="keyword">end</span>
0231     G.Tcor = uicontrol(<span class="string">'Parent'</span>,GUI,<span class="string">'Style'</span>,<span class="string">'text'</span>,<span class="string">'Units'</span>,<span class="string">'Normalized'</span>, Font, <span class="keyword">...</span>
0232         <span class="string">'Position'</span>,[.95 .51 .03 .05], <span class="string">'HorizontalAlignment'</span>, <span class="string">'center'</span>,<span class="keyword">...</span>
0233         <span class="string">'BusyAction'</span>,<span class="string">'queue'</span>,<span class="keyword">...</span>
0234         <span class="string">'String'</span>,num2str(CorSlice));
0235 <span class="keyword">end</span>
0236 
0237 <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0238 <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0239 
0240 <span class="comment">% Sagittal Slice</span>
0241 <span class="keyword">if</span> ydim &gt; 1 &amp; ydim &gt; 1,
0242         
0243     [y,z] = meshgrid(1:ydim,1:zdim);
0244     Ysag = y'; clear y;
0245     Zsag = z'; clear z;
0246     Xsag = zeros(ydim,zdim);
0247     
0248     subplot(<span class="string">'position'</span>,[0.05 0.06 0.4 0.4])
0249     colormap(<span class="string">'gray'</span>);
0250     Ssag = squeeze(avw.img(SagSlice,:,:));
0251     
0252     G.Hs = surf(Xsag,Ysag,Zsag,Ssag,<span class="string">'EdgeColor'</span>,<span class="string">'none'</span>);
0253     axis square, daspect([1,1,1]);
0254     xlabel(<span class="string">'(Left &lt;&lt;) X (&gt;&gt; Right)'</span>)
0255     ylabel(<span class="string">'Y'</span>)
0256     zlabel(<span class="string">'Z'</span>)
0257     title(<span class="string">'Sagittal'</span>)
0258     view([90,0]);
0259     
0260     <span class="comment">% This callback navigates with mouse click</span>
0261     set(G.Hs,<span class="string">'ButtonDownFcn'</span>,<span class="keyword">...</span>
0262         strcat(<span class="string">'AVWVIEW = get(gcbf,''Userdata''); '</span>,<span class="keyword">...</span>
0263         <span class="string">'currentpoint = get(get(AVWVIEW.handles.Hs,''Parent''),''CurrentPoint''); '</span>,<span class="keyword">...</span>
0264         <span class="string">'CorSlice = round(currentpoint(1,2)); '</span>,<span class="keyword">...</span>
0265         <span class="string">'AxiSlice = round(currentpoint(1,3)); '</span>,<span class="keyword">...</span>
0266         <span class="string">'SagSlice = round(str2num(get(AVWVIEW.handles.Tsag,''String'')));'</span>,<span class="keyword">...</span>
0267         <span class="string">'imgvalue = AVWVIEW.avw.img(SagSlice,CorSlice,AxiSlice); '</span>,<span class="keyword">...</span>
0268         <span class="string">'set(AVWVIEW.handles.imval,''String'',sprintf(''%8.2f'',imgvalue));'</span>,<span class="keyword">...</span>
0269         <span class="string">'set(AVWVIEW.gui,''UserData'',AVWVIEW);'</span>,<span class="keyword">...</span>
0270         <span class="string">'if ishandle(AVWVIEW.handles.Hc) &amp; AVWVIEW.handles.Hc, '</span>,<span class="keyword">...</span>
0271         <span class="string">'   Scor = squeeze(AVWVIEW.avw.img(:,CorSlice,:));'</span>,<span class="keyword">...</span>
0272         <span class="string">'   set(AVWVIEW.handles.Hc,''CData'',Scor); drawnow;'</span>,<span class="keyword">...</span>
0273         <span class="string">'   set(AVWVIEW.handles.Tcor,''String'',num2str(CorSlice));'</span>,<span class="keyword">...</span>
0274         <span class="string">'   set(AVWVIEW.handles.Scor,''Value'',CorSlice);'</span>,<span class="keyword">...</span>
0275         <span class="string">'   clear Scor; '</span>,<span class="keyword">...</span>
0276         <span class="string">'   set(AVWVIEW.gui,''UserData'',AVWVIEW);'</span>,<span class="keyword">...</span>
0277         <span class="string">'end; '</span>,<span class="keyword">...</span>
0278         <span class="string">'if ishandle(AVWVIEW.handles.Ha) &amp; AVWVIEW.handles.Ha, '</span>,<span class="keyword">...</span>
0279         <span class="string">'   Saxi = squeeze(AVWVIEW.avw.img(:,:,AxiSlice));'</span>,<span class="keyword">...</span>
0280         <span class="string">'   set(AVWVIEW.handles.Ha,''CData'',Saxi); drawnow;'</span>,<span class="keyword">...</span>
0281         <span class="string">'   set(AVWVIEW.handles.Taxi,''String'',num2str(AxiSlice));'</span>,<span class="keyword">...</span>
0282         <span class="string">'   set(AVWVIEW.handles.Saxi,''Value'',AxiSlice);'</span>,<span class="keyword">...</span>
0283         <span class="string">'   clear Saxi; '</span>,<span class="keyword">...</span>
0284         <span class="string">'   set(AVWVIEW.gui,''UserData'',AVWVIEW);'</span>,<span class="keyword">...</span>
0285         <span class="string">'end; '</span>,<span class="keyword">...</span>
0286         <span class="string">'clear currentpoint imgvalue AxiSlice CorSlice SagSlice AVWVIEW;'</span>));
0287 
0288     
0289     <span class="keyword">if</span> xdim &gt; 1,
0290         slider_step(1) = 1/(xdim);
0291         slider_step(2) = 1/(xdim);
0292         G.Ssag = uicontrol(<span class="string">'Parent'</span>,GUI,<span class="string">'Style'</span>,<span class="string">'slider'</span>,<span class="string">'Units'</span>,<span class="string">'Normalized'</span>, Font, <span class="keyword">...</span>
0293             <span class="string">'Position'</span>,[.45 .06 .03 .4], <span class="string">'HorizontalAlignment'</span>, <span class="string">'center'</span>,<span class="keyword">...</span>
0294             <span class="string">'BusyAction'</span>,<span class="string">'queue'</span>,<span class="keyword">...</span>
0295             <span class="string">'Min'</span>,1,<span class="string">'Max'</span>,xdim,<span class="string">'SliderStep'</span>,slider_step,<span class="string">'Value'</span>,SagSlice,<span class="keyword">...</span>
0296             <span class="string">'Callback'</span>,strcat(<span class="string">'AVWVIEW = get(gcbf,''Userdata''); '</span>,<span class="keyword">...</span>
0297             <span class="string">'SagSlice = round(get(AVWVIEW.handles.Ssag,''Value''));'</span>,<span class="keyword">...</span>
0298             <span class="string">'set(AVWVIEW.handles.Ssag,''Value'',SagSlice);'</span>,<span class="keyword">...</span>
0299             <span class="string">'Ssag = squeeze(AVWVIEW.avw.img(SagSlice,:,:));'</span>,<span class="keyword">...</span>
0300             <span class="string">'set(AVWVIEW.handles.Hs,''CData'',Ssag); drawnow;'</span>,<span class="keyword">...</span>
0301             <span class="string">'set(AVWVIEW.handles.Tsag,''String'',num2str(SagSlice));'</span>,<span class="keyword">...</span>
0302             <span class="string">'AxiSlice = round(get(AVWVIEW.handles.Saxi,''Value''));'</span>,<span class="keyword">...</span>
0303             <span class="string">'CorSlice = round(get(AVWVIEW.handles.Scor,''Value''));'</span>,<span class="keyword">...</span>
0304             <span class="string">'imgvalue = AVWVIEW.avw.img(SagSlice,CorSlice,AxiSlice); '</span>,<span class="keyword">...</span>
0305             <span class="string">'set(AVWVIEW.handles.imval,''String'',sprintf(''%8.2f'',imgvalue));'</span>,<span class="keyword">...</span>
0306             <span class="string">'set(AVWVIEW.gui,''UserData'',AVWVIEW);'</span>,<span class="keyword">...</span>
0307             <span class="string">'clear imgvalue Ssag AxiSlice CorSlice SagSlice AVWVIEW;'</span>));
0308     <span class="keyword">end</span>
0309     G.Tsag = uicontrol(<span class="string">'Parent'</span>,GUI,<span class="string">'Style'</span>,<span class="string">'text'</span>,<span class="string">'Units'</span>,<span class="string">'Normalized'</span>, Font, <span class="keyword">...</span>
0310         <span class="string">'Position'</span>,[.45 .01 .03 .05], <span class="string">'HorizontalAlignment'</span>, <span class="string">'center'</span>,<span class="keyword">...</span>
0311         <span class="string">'BusyAction'</span>,<span class="string">'queue'</span>,<span class="keyword">...</span>
0312         <span class="string">'String'</span>,num2str(SagSlice));
0313 <span class="keyword">end</span>
0314 
0315 <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0316 <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0317 
0318 <span class="comment">% Intensity Value at Mouse Click</span>
0319 
0320 G.Timval = uicontrol(<span class="string">'Parent'</span>,GUI,<span class="string">'Style'</span>,<span class="string">'text'</span>,<span class="string">'Units'</span>,<span class="string">'Normalized'</span>, Font, <span class="keyword">...</span>
0321     <span class="string">'Position'</span>,[.575 .40 .20 .05], <span class="string">'HorizontalAlignment'</span>, <span class="string">'left'</span>,<span class="keyword">...</span>
0322     <span class="string">'BusyAction'</span>,<span class="string">'queue'</span>,<span class="keyword">...</span>
0323     <span class="string">'String'</span>,<span class="string">'Image Intensity'</span>);
0324 G.imval = uicontrol(<span class="string">'Parent'</span>,GUI,<span class="string">'Style'</span>,<span class="string">'text'</span>,<span class="string">'Units'</span>,<span class="string">'Normalized'</span>, Font, <span class="keyword">...</span>
0325     <span class="string">'Position'</span>,[.775 .40 .20 .05], <span class="string">'HorizontalAlignment'</span>, <span class="string">'right'</span>,<span class="keyword">...</span>
0326     <span class="string">'BusyAction'</span>,<span class="string">'queue'</span>,<span class="keyword">...</span>
0327     <span class="string">'String'</span>,<span class="string">'x'</span>);
0328 
0329 <span class="comment">% Nasion Location</span>
0330 G.Tnasion = uicontrol(<span class="string">'Parent'</span>,GUI,<span class="string">'Style'</span>,<span class="string">'pushbutton'</span>,<span class="string">'Units'</span>,<span class="string">'Normalized'</span>, Font, <span class="keyword">...</span>
0331     <span class="string">'Position'</span>,[.575 .35 .20 .04], <span class="string">'HorizontalAlignment'</span>, <span class="string">'left'</span>,<span class="keyword">...</span>
0332     <span class="string">'BusyAction'</span>,<span class="string">'queue'</span>,<span class="keyword">...</span>
0333     <span class="string">'TooltipString'</span>,<span class="string">'Update Nasion - should be toward +Y'</span>,<span class="keyword">...</span>
0334     <span class="string">'String'</span>,<span class="string">'Fiducial: Nasion'</span>,<span class="keyword">...</span>
0335     <span class="string">'Callback'</span>,strcat(<span class="string">'AVWVIEW = get(gcbf,''Userdata''); '</span>,<span class="keyword">...</span>
0336             <span class="string">'SagSlice = get(AVWVIEW.handles.Ssag,''Value'');'</span>,<span class="keyword">...</span>
0337             <span class="string">'CorSlice = get(AVWVIEW.handles.Scor,''Value'');'</span>,<span class="keyword">...</span>
0338             <span class="string">'AxiSlice = get(AVWVIEW.handles.Saxi,''Value'');'</span>,<span class="keyword">...</span>
0339             <span class="string">'imgXYZ   = [SagSlice,CorSlice,AxiSlice]; '</span>,<span class="keyword">...</span>
0340             <span class="string">'imgXYZ = (imgXYZ - AVWVIEW.origin) .* AVWVIEW.scale; '</span>,<span class="keyword">...</span>
0341             <span class="string">'set(AVWVIEW.handles.nasion,''String'',sprintf(''%6.3f %6.3f %6.3f'',imgXYZ));'</span>,<span class="keyword">...</span>
0342             <span class="string">'AVWVIEW.p.mriFID(1,:) = imgXYZ; '</span>,<span class="keyword">...</span>
0343             <span class="string">'set(AVWVIEW.gui,''UserData'',AVWVIEW);'</span>,<span class="keyword">...</span>
0344             <span class="string">'clear imgXYZ AxiSlice CorSlice SagSlice AVWVIEW;'</span>));
0345 G.nasion = uicontrol(<span class="string">'Parent'</span>,GUI,<span class="string">'Style'</span>,<span class="string">'text'</span>,<span class="string">'Units'</span>,<span class="string">'Normalized'</span>, Font, <span class="keyword">...</span>
0346     <span class="string">'Position'</span>,[.775 .35 .20 .04], <span class="string">'HorizontalAlignment'</span>, <span class="string">'right'</span>,<span class="keyword">...</span>
0347     <span class="string">'BusyAction'</span>,<span class="string">'queue'</span>,<span class="keyword">...</span>
0348     <span class="string">'TooltipString'</span>,<span class="string">'In meters, origin at (0,0,0), should be toward +Y'</span>,<span class="keyword">...</span>
0349     <span class="string">'String'</span>,<span class="string">'x,y,z'</span>);
0350 <span class="comment">% Right Preauricular Location</span>
0351 G.Trpa = uicontrol(<span class="string">'Parent'</span>,GUI,<span class="string">'Style'</span>,<span class="string">'pushbutton'</span>,<span class="string">'Units'</span>,<span class="string">'Normalized'</span>, Font, <span class="keyword">...</span>
0352     <span class="string">'Position'</span>,[.575 .30 .20 .04], <span class="string">'HorizontalAlignment'</span>, <span class="string">'left'</span>,<span class="keyword">...</span>
0353     <span class="string">'BusyAction'</span>,<span class="string">'queue'</span>,<span class="keyword">...</span>
0354     <span class="string">'TooltipString'</span>,<span class="string">'Update Right Preauricular - should be toward +X'</span>,<span class="keyword">...</span>
0355     <span class="string">'String'</span>,<span class="string">'Fiducial: RPA'</span>,<span class="keyword">...</span>
0356     <span class="string">'Callback'</span>,strcat(<span class="string">'AVWVIEW = get(gcbf,''Userdata''); '</span>,<span class="keyword">...</span>
0357             <span class="string">'SagSlice = get(AVWVIEW.handles.Ssag,''Value'');'</span>,<span class="keyword">...</span>
0358             <span class="string">'CorSlice = get(AVWVIEW.handles.Scor,''Value'');'</span>,<span class="keyword">...</span>
0359             <span class="string">'AxiSlice = get(AVWVIEW.handles.Saxi,''Value'');'</span>,<span class="keyword">...</span>
0360             <span class="string">'imgXYZ   = [SagSlice,CorSlice,AxiSlice]; '</span>,<span class="keyword">...</span>
0361             <span class="string">'imgXYZ = (imgXYZ - AVWVIEW.origin) .* AVWVIEW.scale; '</span>,<span class="keyword">...</span>
0362             <span class="string">'set(AVWVIEW.handles.rpa,''String'',sprintf(''%6.3f %6.3f %6.3f'',imgXYZ));'</span>,<span class="keyword">...</span>
0363             <span class="string">'AVWVIEW.p.mriFID(2,:) = imgXYZ; '</span>,<span class="keyword">...</span>
0364             <span class="string">'set(AVWVIEW.gui,''UserData'',AVWVIEW);'</span>,<span class="keyword">...</span>
0365             <span class="string">'clear imgXYZ AxiSlice CorSlice SagSlice AVWVIEW;'</span>));
0366 G.rpa = uicontrol(<span class="string">'Parent'</span>,GUI,<span class="string">'Style'</span>,<span class="string">'text'</span>,<span class="string">'Units'</span>,<span class="string">'Normalized'</span>, Font, <span class="keyword">...</span>
0367     <span class="string">'Position'</span>,[.775 .30 .20 .04], <span class="string">'HorizontalAlignment'</span>, <span class="string">'right'</span>,<span class="keyword">...</span>
0368     <span class="string">'BusyAction'</span>,<span class="string">'queue'</span>,<span class="keyword">...</span>
0369     <span class="string">'TooltipString'</span>,<span class="string">'In meters, origin at (0,0,0), should be toward +X'</span>,<span class="keyword">...</span>
0370     <span class="string">'String'</span>,<span class="string">'x,y,z'</span>);
0371 <span class="comment">% Left Preauricular Location</span>
0372 G.Tlpa = uicontrol(<span class="string">'Parent'</span>,GUI,<span class="string">'Style'</span>,<span class="string">'pushbutton'</span>,<span class="string">'Units'</span>,<span class="string">'Normalized'</span>, Font, <span class="keyword">...</span>
0373     <span class="string">'Position'</span>,[.575 .25 .20 .04], <span class="string">'HorizontalAlignment'</span>, <span class="string">'left'</span>,<span class="keyword">...</span>
0374     <span class="string">'BusyAction'</span>,<span class="string">'queue'</span>,<span class="keyword">...</span>
0375     <span class="string">'TooltipString'</span>,<span class="string">'Update Left Preauricular - should be toward -X'</span>,<span class="keyword">...</span>
0376     <span class="string">'String'</span>,<span class="string">'Fiducial: LPA'</span>,<span class="keyword">...</span>
0377     <span class="string">'Callback'</span>,strcat(<span class="string">'AVWVIEW = get(gcbf,''Userdata''); '</span>,<span class="keyword">...</span>
0378             <span class="string">'SagSlice = get(AVWVIEW.handles.Ssag,''Value'');'</span>,<span class="keyword">...</span>
0379             <span class="string">'CorSlice = get(AVWVIEW.handles.Scor,''Value'');'</span>,<span class="keyword">...</span>
0380             <span class="string">'AxiSlice = get(AVWVIEW.handles.Saxi,''Value'');'</span>,<span class="keyword">...</span>
0381             <span class="string">'imgXYZ   = [SagSlice,CorSlice,AxiSlice]; '</span>,<span class="keyword">...</span>
0382             <span class="string">'imgXYZ = (imgXYZ - AVWVIEW.origin) .* AVWVIEW.scale; '</span>,<span class="keyword">...</span>
0383             <span class="string">'set(AVWVIEW.handles.lpa,''String'',sprintf(''%6.3f %6.3f %6.3f'',imgXYZ));'</span>,<span class="keyword">...</span>
0384             <span class="string">'AVWVIEW.p.mriFID(3,:) = imgXYZ; '</span>,<span class="keyword">...</span>
0385             <span class="string">'set(AVWVIEW.gui,''UserData'',AVWVIEW);'</span>,<span class="keyword">...</span>
0386             <span class="string">'clear imgXYZ AxiSlice CorSlice SagSlice AVWVIEW;'</span>));
0387 G.lpa = uicontrol(<span class="string">'Parent'</span>,GUI,<span class="string">'Style'</span>,<span class="string">'text'</span>,<span class="string">'Units'</span>,<span class="string">'Normalized'</span>, Font, <span class="keyword">...</span>
0388     <span class="string">'Position'</span>,[.775 .25 .20 .04], <span class="string">'HorizontalAlignment'</span>, <span class="string">'right'</span>,<span class="keyword">...</span>
0389     <span class="string">'BusyAction'</span>,<span class="string">'queue'</span>,<span class="keyword">...</span>
0390     <span class="string">'TooltipString'</span>,<span class="string">'In meters, origin at (0,0,0), should be toward -X'</span>,<span class="keyword">...</span>
0391     <span class="string">'String'</span>,<span class="string">'x,y,z'</span>);
0392 
0393 
0394 
0395 
0396 
0397 
0398 <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0399 <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0400 
0401 Font.FontWeight = <span class="string">'bold'</span>;
0402 
0403 <span class="comment">% OK: Return the avw!</span>
0404 G.Bhdr = uicontrol(<span class="string">'Parent'</span>,GUI,<span class="string">'Style'</span>,<span class="string">'pushbutton'</span>,<span class="string">'Units'</span>,<span class="string">'Normalized'</span>, Font, <span class="keyword">...</span>
0405     <span class="string">'Position'</span>,[.8 .01 .08 .04],<span class="keyword">...</span>
0406     <span class="string">'String'</span>,<span class="string">'HDR'</span>,<span class="string">'BusyAction'</span>,<span class="string">'queue'</span>,<span class="keyword">...</span>
0407     <span class="string">'TooltipString'</span>,<span class="string">'Save the hdr parameters.'</span>,<span class="keyword">...</span>
0408     <span class="string">'BackgroundColor'</span>,[0.0 0.0 0.5],<span class="keyword">...</span>
0409     <span class="string">'ForegroundColor'</span>,[1 1 1], <span class="string">'HorizontalAlignment'</span>, <span class="string">'center'</span>,<span class="keyword">...</span>
0410     <span class="string">'Callback'</span>,strcat(<span class="string">'AVWVIEW = get(gcbf,''Userdata''); '</span>,<span class="keyword">...</span>
0411         <span class="string">'avw_view_hdr(AVWVIEW.avw);'</span>,<span class="keyword">...</span>
0412         <span class="string">'clear AVWVIEW;'</span>));
0413 
0414 <span class="comment">% Cancel</span>
0415 G.Bquit = uicontrol(<span class="string">'Parent'</span>,GUI,<span class="string">'Style'</span>,<span class="string">'pushbutton'</span>,<span class="string">'Units'</span>,<span class="string">'Normalized'</span>, Font, <span class="keyword">...</span>
0416     <span class="string">'Position'</span>,[.9 .01 .08 .04],<span class="keyword">...</span>
0417     <span class="string">'String'</span>,<span class="string">'RETURN'</span>,<span class="string">'BusyAction'</span>,<span class="string">'queue'</span>,<span class="keyword">...</span>
0418     <span class="string">'BackgroundColor'</span>,[0.75 0.0 0.0],<span class="keyword">...</span>
0419     <span class="string">'ForegroundColor'</span>, [1 1 1], <span class="string">'HorizontalAlignment'</span>, <span class="string">'center'</span>,<span class="keyword">...</span>
0420     <span class="string">'Callback'</span>,strcat(<span class="string">'AVWVIEW = get(gcbf,''Userdata''); '</span>,<span class="keyword">...</span>
0421         <span class="string">'if isfield(AVWVIEW,''p''), '</span>,<span class="keyword">...</span>
0422         <span class="string">'  if isfield(AVWVIEW.p,''mriFID''), '</span>,<span class="keyword">...</span>
0423         <span class="string">'    if exist(''p'',''var''), '</span>,<span class="keyword">...</span>
0424         <span class="string">'      p.mriFID = AVWVIEW.p.mriFID; '</span>,<span class="keyword">...</span>
0425         <span class="string">'    else, '</span>,<span class="keyword">...</span>
0426         <span class="string">'      mriFID = AVWVIEW.p.mriFID;'</span>,<span class="keyword">...</span>
0427         <span class="string">'    end; '</span>,<span class="keyword">...</span>
0428         <span class="string">'  end; '</span>,<span class="keyword">...</span>
0429         <span class="string">'end; '</span>,<span class="keyword">...</span>
0430         <span class="string">'clear AVWVIEW; close gcbf;'</span>));
0431 
0432 <span class="comment">% Update the gui_struct handles for this gui</span>
0433 AVWVIEW.avw = avw;
0434 AVWVIEW.handles = G;
0435 set(AVWVIEW.gui,<span class="string">'Userdata'</span>,AVWVIEW);
0436 set(AVWVIEW.gui,<span class="string">'HandleVisibility'</span>,<span class="string">'callback'</span>);
0437 
0438 <span class="keyword">return</span>
0439 
0440 
0441 <a name="_sub1" href="#_subfunctions" class="code">function slice_img(avw),</a>
0442 
0443     figure
0444     xslice = 128;
0445     slice = squeeze( avw.img(xslice,:,:) );
0446     imagesc(slice); axis image; colormap(<span class="string">'gray'</span>)
0447     figure
0448     yslice = 128;
0449     slice = squeeze( avw.img(:,yslice,:) );
0450     imagesc(slice); axis image; colormap(<span class="string">'gray'</span>)
0451     figure
0452     zslice = 128;
0453     slice = squeeze( avw.img(:,:,zslice) );
0454     imagesc(slice); axis image; colormap(<span class="string">'gray'</span>)
0455 
0456 <span class="keyword">return</span></pre></div>
<hr><address>Generated on Mon 29-Mar-2004 13:14:32 by <strong><a href="http://www.artefact.tk/software/matlab/m2html/">m2html</a></strong> &copy; 2003</address>
</body>
</html>